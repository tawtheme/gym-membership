<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Reminders</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="createReminder()">
        <ion-icon name="add"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Reminders</ion-title>
    </ion-toolbar>
  </ion-header>

  <!-- Filter Buttons -->
  <ion-segment [(ngModel)]="filterType" (ionChange)="onFilterChange()">
    <ion-segment-button value="all">
      <ion-label>All</ion-label>
    </ion-segment-button>
    <ion-segment-button value="upcoming">
      <ion-label>Upcoming</ion-label>
    </ion-segment-button>
    <ion-segment-button value="sent">
      <ion-label>Sent</ion-label>
    </ion-segment-button>
  </ion-segment>

  <!-- Reminders List -->
  <ion-list>
    <ion-item-sliding *ngFor="let reminder of filteredReminders">
      <ion-item>
        <ion-avatar slot="start">
          <ion-icon name="notifications" size="large"></ion-icon>
        </ion-avatar>
        <ion-label>
          <h2>{{ reminder.title }}</h2>
          <p>{{ reminder.message }}</p>
          <p>
            <ion-badge [color]="getReminderBadgeColor(reminder.type)">
              {{ reminder.type | titlecase }}
            </ion-badge>
            <ion-badge [color]="reminder.isSent ? 'success' : 'warning'">
              {{ reminder.isSent ? 'Sent' : 'Pending' }}
            </ion-badge>
          </p>
          <p>Scheduled: {{ formatDate(reminder.scheduledDate) }}</p>
        </ion-label>
      </ion-item>
      
      <ion-item-options side="end">
        <ion-item-option 
          color="success" 
          (click)="markAsSent(reminder)"
          *ngIf="!reminder.isSent">
          <ion-icon name="checkmark" slot="icon-only"></ion-icon>
        </ion-item-option>
        <ion-item-option 
          color="danger" 
          (click)="deleteReminder(reminder)">
          <ion-icon name="trash" slot="icon-only"></ion-icon>
        </ion-item-option>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>

  <!-- Empty State -->
  <div *ngIf="filteredReminders.length === 0" class="empty-state">
    <ion-icon name="notifications-outline" size="large"></ion-icon>
    <h2>No Reminders Found</h2>
    <p>Create your first reminder to get started</p>
    <ion-button (click)="createReminder()" fill="outline">
      <ion-icon name="add" slot="start"></ion-icon>
      Create Reminder
    </ion-button>
  </div>

  <!-- Floating Action Button -->
  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button (click)="createReminder()">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
